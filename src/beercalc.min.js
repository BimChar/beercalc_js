(function(){"use strict";var root=this,Beercalc={};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=Beercalc}exports.Beercalc=Beercalc}else{root.Beercalc=Beercalc}Beercalc.abv=function(og,fg){if(og>fg&&!isNaN(og)&&!isNaN(fg))return 76.08*(og-fg)/(1.775-og)*(fg/.794);else return null};Beercalc.abw=function(og,fg){if(og>fg&&!isNaN(og)&&!isNaN(fg))return.79*this.abv(og,fg)/fg;else return null};Beercalc.mcu=function(weight,lovibond,volume){if(volume!==0&&volume!==null&&weight!==null&&lovibond!==null&&!isNaN(weight)&&!isNaN(lovibond)&&!isNaN(volume))return weight*lovibond/volume;else return null};Beercalc.srm=function(weight,lovibond,volume){if(volume!==null&&weight!==null&&lovibond!==null&&!isNaN(weight)&&!isNaN(lovibond)&&!isNaN(volume))return 1.4922*Math.pow(this.mcu(weight,lovibond,volume),.6859);else return null};Beercalc.aau=function(alpha,weight){if(alpha!==null&&weight!==null&&!isNaN(alpha)&&!isNaN(weight))return alpha*weight;else return null};Beercalc.ibu=function(alpha,weight,time,gravity,volume){if(volume!==0&&alpha!==null&&weight!==null&&time!==null&&gravity!==null&&volume!==null&&!isNaN(alpha)&&!isNaN(weight)&&!isNaN(time)&&!isNaN(gravity)&&!isNaN(volume))return this.aau(alpha,weight)*this.utilization(time,gravity)*75/volume;else return null};Beercalc.utilization=function(time,gravity){if(!isNaN(time)&&!isNaN(gravity)&&time!==null&&gravity!==null)return 1.65*Math.pow(125e-6,gravity-1)*(1-Math.pow(Math.E,-.04*time))/4.15;else return null};Beercalc.plato=function(sGravity){if(!isNaN(sGravity)&&sGravity!==null)return-463.37+668.72*sGravity-205.35*Math.pow(sGravity,2);else return null};Beercalc.realExtract=function(og,fg){if(og>fg&&!isNaN(og)&&!isNaN(fg)&&og!==null&&fg!==null)return.1808*this.plato(og)+.8192*this.plato(fg);else return null};Beercalc.calories=function(og,fg){if(og>fg&&!isNaN(og)&&!isNaN(fg)&&og!==null&&fg!==null)return(6.9*this.abw(og,fg)+4*(this.realExtract(og,fg)-.1))*fg*3.55;else return null};Beercalc.attenuation=function(og,fg){if(og>fg&&!isNaN(og)&&!isNaN(fg)&&og!==null&&fg!==null)return(og-fg)/(og-1);else return null};Beercalc.gu=function(g){if(!isNaN(g)&&g!==null)return Math.round((g-1)*1e3);else return null};Beercalc.totalGravity=function(g,v){if(!isNaN(g)&&!isNaN(v)&&g!==null&&v!==null)return this.gu(g)*v;else return null};Beercalc.finalGravity=function(g,vol_beg,vol_end){if(!isNaN(g)&&!isNaN(vol_beg)&&!isNaN(vol_end)&&g!==null&&vol_beg!==null&&vol_end!==null)return this.totalGravity(g,vol_beg)/vol_end;else return null};Beercalc.extractAddition=function(target_gu,total_gu,extractType){var extract;if(extractType=="LME")extract=38;else if(extractType=="DME")extract=45;else if(!isNaN(extractType))extract=extractType;if(!isNaN(target_gu)&&!isNaN(total_gu)&&!isNaN(extract)&&target_gu!==null&&total_gu!==null&&extractType!==null)return(target_gu-total_gu)/extract;else return null};Beercalc.gravityCorrection=function(temp,g){if(!isNaN(temp)&&!isNaN(g)&&temp!==null&&g!==null)return(1.313454-.132674*temp+2.057793*Math.pow(10,-3)*Math.pow(temp,2)-2.627634*Math.pow(10,-6)*Math.pow(temp,3))*.001+g;else return null}}).call(this);